# Livro: Linguagem C
# Acompanhado de uma xícara de café

O texto desta obra abrange o padrão ISO/IEC 9899 de 1999 e 2011.

Prezado leitor ou leitora,

É com grande satisfação que coloco este livro a sua disposição. Neste material está contido um resumo muito abrangente de anos de trabalho: tanto como programador quanto como professor de lógica de programação; de linguagens de programação e de técnicas de pro-gramação, além dos quatro longos anos que levei desenvolvendo este texto acompanhados de algumas xícaras de café. A propósito o estudo para este livro chegar onde está decorreu por aproximadamente vinte anos, coletando diversos detalhes que aqui estão resumidos e concentrados. Quero, e espero ter conseguido, apresentar um livro de linguagem C um pou-co diferente dos que estão disponíveis no mercado mundial. Longe de mim querer ou achar que este seja um trabalho que suplemente outros de forma alguma. Mas desejo que seja um material que possa dirimir suas dúvidas em relação a linguagem C, de modo que não a achem difícil de aprender.

Muitos podem estranhar o título do livro com alusão ao estudo e uso da Linguagem C acom-panhada de uma xícara de café. Podem estar sendo remetidos a linguagem Java. Mas nada haver, Java é uma ilha na Indonésia onde se cultiva um café tipo arábica que era tomado e apreciado pelos desenvolvedores da linguagem Java. No meu caso, em particular foram algumas xícaras de café queniano preparados em prensa francesa que me inspiraram neste trabalho. Assim, convido você a imaginar-se em uma cafeteria, como dizem os franceses em uma Bodega du Café lendo, estudando e discutindo comigo este material. Fazendo o mesmo que fizeram no século XVII os iluministas nos cafés franceses ao planejarem a Revolução Francesa, Venha comigo fazer uma Revolução em sua mente. Meu desejo é apresentar algo diferente, voltado a você que deseja e necessita aprender da forma mais “fácil” possível a usar a linguagem C, que muitos juram ser de “difícil” compreensão. Além do texto explicativo de cada capítulo, quando possível, é fornecido um conjunto de exercícios de fixação para o aprimoramento teórico e prático dos detalhes apresentados. Não esqueça do acompanha-mento de uma xícara de café. O café é um complemento cada vez mais presente em mesas de estudo de programadores, filósofos e conversas entre amigos, proporcionando ao trabalho um raro momento de prazer. Este é um ato praticado em todo o mundo. É o momento em que a mente se abre para percepções mentais e troca de ideias. Nota-se o café presente em reu-niões de negócios, discussões, eventos etc. Portanto não há associação mais marcante que o estudo associado a uma xícara de café.

Este livro não abrange a linguagem C em sua totalidade. Isso seria impossível, mas apresen-ta grande parte de seus recursos necessários ao seu uso de forma gradativa e contextualiza-da. Como material de estudo, este trabalho foi idealizado para ser usado preferencialmente em sala de aula, pelos cursos da área da computação nos níveis de bacharelado, tecnológi-co, técnicos ou treinamento empresarial, obviamente com o acompanhamento de um profes-sor ou instrutor habilitados. Nada impede de este livro ser usado como referência ao progra-mador em seu ambiente de trabalho ou usado por autodidatas. Nesses casos, porém, a res-ponsabilidade da aprendizagem é, em parte, do próprio programador ou do leitor autodidata.

Os programas aqui apresentados estão em sua maioria codificados segundo o padrão C99 por ser este mais popular. Quando pertinente são feitos comentários sobre o uso do padrão C11. Nesses casos um código ilustrativo é apresentado. Outro detalhe importante desse trabalho é o fato dos programas escritos terem sido compilados em dois compiladores dife-rentes em três sistemas operacionais distintos, garantindo a produção de código portável (no máximo possível). Com este trabalho você tem a rara oportunidade de aprender a usar a linguagem C na sua mais pura essência, sem a “contaminação” de características particula-res de compiladores ou de sistemas operacionais.
Cabe ressaltar que apesar dos esforços para entregar nesta obra programas que sejam per-feitamente executados, podem ocorrer eventuais “efeitos colaterais” não previstos na execu-ção de alguns programas, em razão da mudança de versões, atualizações, ajustes e corre-ções de bugs do compilador ou do sistema operacional em uso, ou mesmo configurações específicas do computador utilizado. Não são especificamente apresentados detalhes opera-cionais dos compiladores em uso, suas variantes ou mesmo ambientes integrados de desen-volvimento. O compilador e demais ferramentas indicadas são usadas apenas para gerar os programas executáveis a partir da codificação em linguagem C. 
Todos os códigos do livro foram exaustivamente testados nos compiladores Visual C++ do ambiente Visual Studio para o sistema operacional Windows e GCC para os sistemas opera-cionais Windows, Linux e OS X. A sequência de testes de compilação para cada código des-ta obra foi: GCC (Windows), Visual C++ (Windows), GCC (Linux) e GCC (OS X). 
Como o objetivo é a produção de código padrão ISO cada programa, na medida do possível, deve ter o mesmo código escrito, ser compilável em compiladores padrão ISO e assim ser executado no mínimo em duas plataformas computacionais. Eventualmente ajustes entre as plataformas são necessários. Esses foram os princípios usados para a elaboração deste trabalho. Ao serem feitas as sequências de testes e ocorrendo a apresentação de alguma mensagem de advertência pelo compilador em qualquer sistema operacional o programa foi repensado e reescrito. A partir daí esse programa foi repassado para os testes nos demais sistemas operacionais para se ter a certeza de estar escrito dentro do padrão ISO da lingua-gem.

A quase totalidade dos programas desta obra podem ser executados sem problemas nos sistemas operacionais Linux, Windows e OS X, exceto alguns códigos particulares ao siste-ma operacional Linux ou OS X, que não podem por algum motivo serem executados no sis-tema operacional Windows e vice-versa. Nesse caso, é apresentada uma versão compatível com os detalhes de cada sistema operacional e a aplicação da técnica de plataforma cruzada para gerar um código que possa ser compilado em plataforma computacionais diferentes. No entanto, apesar desse esforço, pode ocorrer o fato de algum programa não poder passar pelo processo de preparação para ser executado em qualquer plataforma, mesmo tendo como objetivo o padrão de desenvolvimento ISO. Nesse caso o programa só poderá ser executado em certa plataforma, como ocorre com o programa C09EX14 que poderá ser compilado ape-nas no compilador GCC, uma vez que o compilador da Microsoft não entende a instrução “MES = MESES(ENTRADA);”.
Na apresentação evolutiva dos temas abordados são usados mais de 200 programas como exemplos da aplicação de exercícios de aprendizagem codificados em C, além de um con-junto de mais de 180 exercícios de fixação relacionados ao uso da linguagem e de suas ca-racterísticas operacionais fundamentais, tanto no nível teórico quanto no prático, distribuídos em partes estratégicas da obra.

Por seu conteúdo didático, este trabalho pode ser usado de maneira gradativa, a fim de aco-modar e atender às necessidades do professor/instrutor, distribuindo o conteúdo de aula dentro do período letivo ou carga horária necessárias. Parte-se de um ponto inicial básico mínimo, levando-se em conta um leitor iniciante que não conheça a linguagem, mas que possua conhecimentos adequados de lógica de programação e avança-se até abordar no-ções de ponteiros e gerenciamento de arquivos de dados, considerados temas avançados.

O Capítulo 1 fornece um histórico do surgimento da linguagem, comenta sobre o padrão internacional, indica a notação utilizada na obra para representar as instruções da lingua-gem, apresenta os compiladores usados para tal produção e orienta sobre a aquisição e instalação dessas ferramentas nos sistemas operacionais Windows, Linux e OS X.
O Capítulo 2 abrange os tipos de dados primitivos, variáveis, constantes, operadores aritméti-cos, expressões aritméticas, instruções de entrada e saída e seus códigos de formatação, ações de casting além de noções sobre a estrutura usada nos programas escritos em lingua-gem C.
O Capítulo 3 abrange as ações de tomada de decisão e uso de condições. Nesse sentido, elenca as estruturas de uso de decisões simples, compostas, encadeadas e sequenciais. Apresenta informações sobre operadores relacionais e lógicos, incluindo o operador lógico de conjunção exclusiva. Apresenta informações sobre o uso de operações de divisibilidade.

O Capítulo 4 usa a técnica de execução de laços para repetição de trechos de código de programa. Neste sentido, são apresentados os laços pré-teste com fluxo falso, pré-teste com fluxo verdadeiro, pós-teste com fluxo falso, pós-teste com fluxo verdadeiro, incondicional e seletivo. Alguns desses laços são desconhecidos da maior parte do público que trabalha com programação de computadores, mas são aqui apresentados.
O Capítulo 5 elenca o gerenciamento básico de ponteiros, endereçamento de memória, ope-radores de ponteiros, apontamento múltiplo, uso de variáveis de ambiente e alguns outros recursos que serão base para o uso de certas técnicas de programação em C usadas nos demais capítulos do livro.
O Capítulo 6 trata sobre o uso de funções internas. São abordados temas relacionados ao uso de bibliotecas e suas funções, o uso de algumas funções matemáticas, conversão de tipos de dados e manipulação de calendários.

O Capítulo 7 aborda as estruturas de dados denominadas matrizes (tabelas/vetores) estáticas e dinâmicas. São vistos o uso de matrizes unidimensionais e bidimensionais, tanto de acesso e uso externo como interno, além de matrizes para manipulação de sequencias de caracte-res. Mostra também como inicializar posições de matrizes com valores limpos.
O Capítulo 8 complementa o Capítulo 7, pois mostra ações relacionadas à manipulação de dados em matrizes por meio de ordenação e pesquisa de dados, tanto sequencial como biná-rio. Apresenta ainda o uso de funções específicas para essas ações.
O Capítulo 9 explica o uso de estruturas de dados básicas, como complemento aos capítulos 7 e 8, e menciona a aplicação de estruturas (aninhamento de estruturas), uniões, enumera-ções, ponteiros, apelidos e macros.

O Capítulo 10 abrange o tema sobre o uso de sub-rotinas, mostra como usar procedimentos (normalmente não considerados em linguagem C) e funções. São vistos os temas: dividir para conquistar, metodologia top-down e bottom-up, escopo, visibilidade, passagens de pa-râmetro por valor e por referência, além de retorno de ponteiro e uso de sub-rotinas inline.

O Capítulo 11 apresenta técnicas para o desenvolvimento de bibliotecas definidas pelo pro-gramador. São apresentadas instruções para uso de bibliotecas estáticas e dinâmicas. São vistos como usar os modos Terminal ANSI e Windows API. Neste capítulo é apresentada a técnica de programação de plataforma cruzada.
O Capítulo 12 apresenta informações e orientações relacionadas a manipulação de caracte-res e sequência de caracteres (cadeias). São vistos recursos relacionados ao tratamento de caracteres e tratamento de sequências de caracteres, que são a base para efetuar a conver-são de dados numéricos em dados alfanuméricos. É apresentado um conjunto de funções para a execução de entradas e saídas, além dos recursos já usados. Mostra como trabalhar com os algoritmos dígito verificador em módulos 10 e 11. Um destaque desse capítulo é a apresentação dos recursos associados à manipulação de datas de calendário.
O último capítulo, de número 13, apresenta as operações de manipulação de arquivos. São indicadas desde as formas mais simples até o uso de um sistema de gerenciamento de da-dos com a capacidade de cadastrar, remover e alterar dados. São fornecidas orientações para uso de arquivo em formato texto e binário.

A todos um grande abraço e um bom aprendizado!
Prof. Ms. José Augusto N. G. Manzano
